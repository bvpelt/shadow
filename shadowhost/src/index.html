<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Showdowhost</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
  <script>

    function parseHTML(html) {
      var t = document.createElement('template');
      t.innerHTML = html;
      return t.content.cloneNode(true);
    }

    customElements.define(
      'dso-view',
      class extends HTMLElement {
        connectedCallback() {
          var shadow = null;
          const url = this.getAttribute('url');

          shadow = this.attachShadow({ mode: 'open' }); // container is just a div
          //shadow.innerHTML = "<app-root></app-root>";

          var tag = document.createElement('script');
          tag.src = url + "runtime.d59f896680daac16.js";
          tag.defer = true;
          tag.nomodule = true;
          shadow.append(tag);


          tag = document.createElement('script');
          tag.src = url + "polyfills.0b1c1c7c95ea728a.js";
          tag.defer = true;
          tag.nomodule = true;
          shadow.append(tag)



          tag = document.createElement('script');
          tag.src = url + "main.aa1858aa5bd35e98.js";
          tag.defer = true;
          tag.nomodule = true;
          shadow.append(tag)

          console.log(shadow.innerHTML);

        }
      });

  </script>
  <div>
    <div>
      <dso-app-root></dso-app-root>
    </div>
    <div>
      <app-root></app-root>
      <dso-view url="https://preprod.viewer.dso.kadaster.nl/">
      </dso-view>
    </div>
  </div>
</body>

</html>
