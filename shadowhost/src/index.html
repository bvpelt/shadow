<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Showdowhost</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
  <script>

    function parseHTML(html) {
      var t = document.createElement('template');
      t.innerHTML = html;
      return t.content.cloneNode(true);
    }

    customElements.define(
      'dso-view',
      class extends HTMLElement {
        connectedCallback() {
          var shadow = null;
          const url = this.getAttribute('url');

          shadow = this.attachShadow({ mode: 'open' }); // container is just a div
          shadow.innerHTML = "<app-root></app-root>";

          var tag = document.createElement('script');
          tag.src = url + "runtime.971b49795bf37ec0.js";
          tag.defer = true;
          shadow.append(tag);


          tag = document.createElement('script');
          tag.src = url + "polyfills.198f79c3c673d0f7.js";
          tag.defer = true;
          shadow.append(tag)



          tag = document.createElement('script');
          tag.src = url + "main.c3631db9343791d3.js";
          tag.defer = true;
          shadow.append(tag)

          console.log(shadow.innerHTML);

        }
      });

  </script>
  <dso-app-root></dso-app-root>
  <app-root></app-root>
  <dso-view url="http://localhost:8080/"></dso-view>
</body>

</html>
